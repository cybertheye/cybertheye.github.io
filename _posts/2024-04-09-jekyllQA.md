---
title: ğŸ§© Jekyll Q&A
layout: post
author: cyven
tags: jekyll
categories: CS CS::Tech CS::Tech::Jekyll
---



## åœ¨Jekyllä¸­å“ªä¸€éƒ¨åˆ†ä½¿ç”¨Liquidè¯­è¨€ï¼Œ ä¹Ÿå°±æ˜¯åœ¨å“ªé‡Œç¼–å†™Liquid
1. htmlæ–‡ä»¶ï¼Œmdæ–‡ä»¶ï¼Œä½†æ˜¯éœ€è¦åŠ ä¸Šfront matter,è®©jekyllçŸ¥é“éœ€è¦ç‰¹æ®Šå¤„ç†
2. ä¸€äº›æ¨¡ç‰ˆæ–‡ä»¶ï¼Œæ¯”å¦‚åœ¨`_layouts`,`_includes`æ–‡ä»¶å¤¹é‡Œé¢ï¼Œå¯ä»¥ä¸ç”¨åŠ front matterï¼Œå› ä¸ºè¿™äº›å°±æ˜¯å±äºJekyllå†…éƒ¨ç»„ç»‡ç»“æ„çš„

## ä»€ä¹ˆæ˜¯Front matter

é¡¾åæ€ä¹‰ï¼Œfrontè¿™éƒ¨åˆ†å¾ˆé‡è¦

åœ¨ä¸€ä¸ªhtmlæ–‡ä»¶ä¸­

```html
---
title: Home
---
<!doctype html>
<html>
...

```

```
---
title: Home
---

```
è¿™éƒ¨åˆ†å°±æ˜¯ front matter

å®ƒæ˜¯ä¸€ä¸ªYAMLï¼ŒYAMLå°±æ˜¯ä¸€ç§æ•°æ®åºåˆ—åŒ–è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªä¸ªé”®å€¼å¯¹
ä¼šè¢«Jekyllè¯»å–ç„¶åä½œä¸º Pageå¯¹è±¡çš„æˆå‘˜æ•°æ®ï¼Œç„¶åå°±å¯ä»¥ç”¨Liquidè¯­æ³•è¿›è¡Œè®¿é—®

## front matter ä¸­å®šä¹‰äº† title ç„¶åæ€ä¹ˆç”¨å®ƒ

`{{page.title}}`

pageæ˜¯Jekyllç»™çš„å˜é‡

å¯ä»¥å‚è€ƒ [Variables](https://jekyllrb.com/docs/variables)

## `_layouts`æ–‡ä»¶å¤¹æœ‰ä»€ä¹ˆç”¨

è¿™é‡Œé¢è£…çš„æ˜¯å†…å®¹çš„æ¨¡ç‰ˆ

æ¯”å¦‚æƒ³å¢åŠ ä¸€ä¸ªé¡µé¢ï¼Œå¦‚æœä¸èƒ½â€œæå–å…¬å› æ•°â€çš„è¯ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½è¦å†™ä¸€éï¼Œç±»ä¼¼
```html
{%raw %}
<!doctype html>
<html>
  <head>
	<meta charset="utf-8">
	<title>{{ page.title }}</title>
  </head>
  <body>
	{{ content }}
  </body>
</html>
{% endraw %}
```

è¿™æ ·çš„ä¸œè¥¿

å°±ä¼šå¾ˆçƒ¦
æ‰€ä»¥æŠŠä¸Šé¢çš„å®šä¹‰åœ¨`_layous`æ–‡ä»¶å¤¹é‡Œé¢ï¼Œæ¯”å¦‚å†™åœ¨`default.html`æ–‡ä»¶ä¸­

ç„¶ååœ¨ `xxx.html`ä¸­

```html
{% raw %}
---
layout: default
title: Home
---
<h1>{{ "Hello World!" | downcase }}</h1>
{% endraw %}
```

è¿™æ ·å°±å¯ä»¥ä¸“æ³¨äºå†…å®¹ï¼Œå› ä¸ºè¿™ä¸€å—ä¼šå…¨éƒ¨å½“ä½œ content æ’å…¥åˆ°default layoutå®šä¹‰çš„`{%raw%} {{content}} {% endraw %}`ä¸­

## `_includes`æ–‡ä»¶å¤¹æ˜¯å¹²ä»€ä¹ˆç”¨çš„

å…¶å®ä¹Ÿæ˜¯æ¨¡ç‰ˆçš„ä½œç”¨ï¼Œæœ¬è´¨ä¹Ÿæ˜¯â€œæå–å…¬å› æ•°â€

`_layouts`ä½œç”¨æ˜¯ç»„ç»‡å±‚é¢ä¸Šï¼Œå†…å®¹çš„åˆ†ç¦»ï¼Œé‡ç‚¹æ˜¯ä¸“æ³¨å†…å®¹
`_includes`ä½œç”¨æ˜¯ç»„ç»‡å±‚é¢ä¸Šï¼Œä»£ç çš„åˆ†ç¦»,é‡ç‚¹æ˜¯å¤ç”¨ä»£ç 

å°±åƒ`yas-snippet`ä¼¼çš„

ä¾‹å¦‚åœ¨ `_includes/navigation.html`ä¸­
```html
{% raw %}
<nav>
  <a href="/">Home</a>
  <a href="/about.html">About</a>
</nav>
{% endraw %}
```

ç„¶ååœ¨`_layouts/default.html`

```html
{% raw %}
<!doctype html>
<html>
  <head>
	<meta charset="utf-8">
	<title>{{ page.title }}</title>
  </head>
  <body>
	{% include navigation.html %}
	{{ content }}
  </body>
</html>
{% endraw %}
```
é€šè¿‡

```html
{% raw %}
{% include navigation.html %}
{% endraw %}
```

æ¥å¼•ç”¨è¿™æ®µä»£ç 

å½“ç„¶ä¹Ÿå¯ä»¥åœ¨å…¶ä»–htmlä¸­è¿™ä¹ˆå¹²ï¼Œç›¸å½“äºå°±æ˜¯å¤ç”¨ä»£ç äº†

## `_data`æ–‡ä»¶å¤¹æ˜¯å¹²ä»€ä¹ˆç”¨çš„

`_include`æŠ½è±¡å‡ºä»£ç ç‰‡æ®µï¼Œ `_data`æŠ½è±¡å‡ºæ•°æ®

jekyllæ”¯æŒ YAML,json,csvä¸‰ç§æ ¼å¼çš„æ•°æ®å®šä¹‰

æ¯”å¦‚ `_data/navigation.yml`

```yml
- name: Home
  link: /
- name: About
  link: /about.html
```

è¿™æ ·åœ¨å…¶ä»–åœ°æ–¹ï¼Œå¯ä»¥ç”¨ `site.data.navigation` æ¥è®¿é—®è¿™äº›æ•°æ®

ä¾‹å¦‚`includes/navigation.html`

```html
{% raw %}
<nav>
  {% for item in site.data.navigation %}
    <a href="{{ item.link }}" {% if page.url == item.link %}style="color: red;"{% endif %}>
      {{ item.name }}
    </a>
  {% endfor %}
</nav>
{% endraw %}
```


## Jekyll çš„æ ·å¼æ˜¯æ€ä¹ˆç»„ç»‡çš„

è¿™æ˜¯åœ¨`html`æ–‡ä»¶ä¸­æ­£å¸¸å†™çš„ `<link rel="stylesheet" href="/assets/css/styles.css">`

ä½†æ˜¯`assets/css/`ä¸‹çš„ä¸æ˜¯`styles.css` è€Œæ˜¯`styles.scss`,

`jekyll`ä¼šé€šè¿‡`styles.scss`è‡ªåŠ¨ç”Ÿæˆ`styles.css`

å› ä¸º`scss`å¯ä»¥æ‰©å±•ï¼ŒåŠ å…¥ä¸€äº›æ–°çš„è¯­æ³•ç‰¹æ€§

å¯ä»¥åƒ`include`é‚£æ ·åˆ›å»º`html`ä»£ç ç‰‡æ®µ

è¿™é‡Œä¹Ÿæœ‰ç±»å‹çš„`_sass/`æ–‡ä»¶å¤¹ä¿å­˜`scss`æ ·å¼ä»£ç 

ç„¶ååœ¨`/assets/css/styles.css`ä¸­å¯ä»¥`@import "xxx"`;

`jekyll`ä¼šå»`_sass/`æ‰¾å¯¹åº”çš„`scss`æ–‡ä»¶ï¼Œç„¶åæŠŠå®ƒå¯¼è¿›æ¥

æ‰€ä»¥ `xxx`çš„åå­—éœ€è¦å¯¹åº”`_sass/xxx.scss`åå­—



## ä¸ºä»€ä¹ˆé¡µé¢ä¸Šæ²¡æœ‰æ˜¾ç¤ºå…¨postï¼Ÿ

![2024-04-09-19-28-54-screenshoot.png](../assets/img/2024-04-09-19-28-54-screenshoot.png)
![2024-04-09-19-29-08-screenshoot.png](../assets/img/2024-04-09-19-29-08-screenshoot.png)

`_posts`ä¸­æœ‰3ä¸ªæ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆåªåˆ—å‡ºäº†ä¸€ä¸ªå‘¢ï¼Ÿ

å‘½åè§„åˆ™

Jekyllä¸­postæ–‡ä»¶çš„å‘½åéœ€è¦æ˜¯ `æ—¥æœŸ-title.md` è¿™æ ·å­çš„


## jekyllä¸­çš„ post.url,author.urlæ˜¯ä»€ä¹ˆï¼Ÿ

```html
{% raw %}
<li><a href="{{ post.url }}">{{ post.title }}</a></li>

<a href="{{ author.url }}">{{ author.name }}</a>
{% endraw %}
```

ä»£ç ä¸­çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„,`post.url` è¿™é‡Œçš„å±æ€§ url æ˜¯å•¥ï¼Ÿ å¥½åƒdataä¸­é…ç½®çš„ `navigation.yml` å±æ€§æ²¡æœ‰url

```yml
- name: Home
  link: /
- name: About
  link: /about.html
```

å°±ç†è§£ä¸ºè¿™ä¸ª `xxx.url` æ˜¯Jekyllç”Ÿæˆçš„ `xxx` é¡µé¢çš„é“¾æ¥


è§å‚è€ƒ [site.url](https://jekyllrb.com/docs/variables/#:~:text=with%20tag%20TAG.-,site.url,-Contains%20the%20url)


## æ€ä¹ˆé…ç½®äº†_config.ymlæ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ

å¦‚æœæ˜¯åœ¨ `â€“-livereload` æ¨¡å¼ä¸‹ï¼Œä½ æ²¡çœ‹åˆ°æ•ˆæœçš„è¯ï¼Œéœ€è¦`restart`ä¸€ä¸‹`jekyll server`æ‰èƒ½çœ‹åˆ°æ•ˆæœ


## _config.yml ä¸­çš„ defaults é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ

æ¯”å¦‚
```yml
defaults:
  - scope:
      path: ""
      type: "authors"
    values:
      layout: "author"
  - scope:
      path: ""
      type: "posts"
    values:
      layout: "post"
  - scope:
      path: ""
    values:
      layout: "default"
```


è¿™æ˜¯Front matterçš„defaultsé…ç½®

æˆ‘ä»¬ä¸æ˜¯åœ¨æ¯ä¸ªé¡µé¢çš„front matteréƒ½ä¼šå†™ä¸€äº›`layout:xxx`

æ¯ä¸€ä¸ªéƒ½è¦å†™ï¼Œä¼šæœ‰ç‚¹çƒ¦ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªç»Ÿä¸€é…ç½®ï¼Œ

è€Œä¸”å¯ä»¥ç”¨scopeèŒƒå›´æ¥æ‰¹é‡è®¾ç½® pathæ˜¯ç›¸å¯¹rootè·¯å¾„ typeæ˜¯authorsçš„è¯ï¼Œå°±å¯¹åº”`_authors/`æ–‡ä»¶å¤¹é‡Œé¢çš„ typeæ˜¯postsçš„è¯,å°±å¯¹åº”`_posts/`æ–‡ä»¶å¤¹é‡Œé¢çš„


## gemfile.lockæ˜¯å¹²ä»€ä¹ˆçš„

å®ƒå¯ä»¥ â€œé”ä½â€ å½“å‰çš„gemç‰ˆæœ¬ï¼Œæœªæ¥bundle installå…¶ä»–æ’ä»¶çš„æ—¶å€™ ä¼šå’Œå½“å‰çš„gemç‰ˆæœ¬å¯¹é½ï¼Œè¿™æ ·é¿å…äº†ä¸€äº›ä¾èµ–é”™è¯¯


## Gemfile.lockæ€ä¹ˆæ¥çš„ï¼Ÿ

bundle installçš„æ—¶å€™ç”Ÿæˆçš„

## gemfileå’Œ_config.ymlé‡å¤ç”³æ˜ï¼Ÿ

ä¸ºä»€ä¹ˆåœ¨`gemfile` ä¸­

```
group :jekyll_plugins do
  gem "jekyll_sitemap"
  gem "jekyll_feed"
  gem "jekyll_seo-tag"
end

```

è¿˜è¦åœ¨ `_config.yml`

```
plugins:
  - jekyll_sitemap
  - jekyll_feed
  - jekyll_seo-tag

```

è¿™æ ·å£°æ˜

*å¦‚æœæ²¡æœ‰Gemfileï¼Œéœ€è¦æ‰‹åŠ¨çš„ä¿è¯åœ¨pluginsé…ç½®ä¸‹çš„æ’ä»¶è¦æå‰è£…å¥½åœ¨ç³»ç»Ÿé‡Œ*

Gemfileåªæ˜¯Rubyé¡¹ç›®ä¾èµ–ç®¡ç†ï¼Œå‘Šè¯‰gemè¦è£…å“ªäº›ï¼Œç”¨ä¸ç”¨å¦è¯´. *è´Ÿè´£æœ‰æ²¡æœ‰*

`_config.yml`æ˜¯Jekyllçš„é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰Jekyllåœ¨æ„å»ºç«™ç‚¹çš„æ—¶å€™éœ€è¦ åŠ è½½ å“ªäº›æ’ä»¶ *è´Ÿè´£ç”¨ä¸ç”¨*

## typeçš„æ„æ€

```yml
defaults:
  - scope:
      path: ""
      type: posts
    values:
      layout: post
      permalink: /posts/:title/
```

è¿™é‡Œçš„ scope é‡Œé¢çš„typeæ˜¯ä»€ä¹ˆæ„æ€

typeæ˜¯collectionçš„type

scope,è¿™é‡Œpathæ˜¯ â€œâ€ï¼Œæ„å‘³ç€æˆ‘ä»¬ä¼šç»™é¡¹ç›®é‡Œé¢æ‰€æœ‰çš„æ–‡ä»¶éƒ½èµ·ä½œç”¨ å°±æ˜¯æ·»åŠ  values ä¸­çš„front matter

ä½†æ˜¯æˆ‘ä»¬æœ‰æ—¶å€™ä¸æƒ³ç»™æ‰€æœ‰ï¼Œæ‰€ä»¥æŒ‡å®štype

é»˜è®¤çš„æœ‰ pages,posts,drafts,

ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±å£°æ˜ collection, è¿™äº›å£°æ˜ä¹Ÿå¯ä»¥ä½œä¸ºtype

```
collection:
	authors:
```

é‚£è¿™æ · authors å°±æ˜¯ä¸€ä¸ªtypeï¼Œ ä»–æ˜¯` _authors/`æ–‡ä»¶å¤¹ä¸‹é¢çš„é‚£äº›


## jekyllæ˜¯å¦‚ä½•å°†ç”¨åˆ° `_sass/` ä¸‹é¢çš„æ–‡ä»¶çš„

æœ‰ä¸€ä¸ªæ’ä»¶å« `jekyll-sass-converter` , ä¸è¿‡åœ¨`Jekyll 2.0.0`ä¹‹åå°±å†…ç½®äº† ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…äº†

å®ƒä¼šå»æ‰¾ `_sass` æ–‡ä»¶å¤¹ç„¶åå»åšè½¬åŒ–

## jekyllåœ¨safeæ¨¡å¼ä¸‹,ä¼šåŠ è½½`_plugins`æ–‡ä»¶å¤¹ä¸‹é¢çš„æ’ä»¶å—ï¼Ÿ

ä¸ä¼š


## å¦‚æœæƒ³è¦åœ¨safeæ¨¡å¼ä¸‹åŠ è½½ä¸€äº›pluginï¼Œæ€ä¹ˆåŠ

åœ¨`_config.yml`ä¸­
```
whitelist:
  - jekyll-gist
  - jekyll-coffeescript
  - jekyll-seo-tag
```

## `jekyll_plugins`æ˜¯ä»€ä¹ˆæ„æ€

```gemfile
group :jekyll_plugins do
  gem "jekyll-cli-plus"
  gem "jekyll-seo-tag", "~> 1.5"
  gem "some-other-jekyll-plugin"
end
```

è¿™é‡Œ`jekyll_plugins`æ˜¯ä¸€ä¸ªåˆ†ç»„ï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åˆ†ç»„ï¼Œæ˜¯ä¼šè¢«Jekyllç‰¹æ®Šå¯¹å¾…çš„ï¼Œä»–ä¼šåœ¨Jekyllå‰åŠ è½½è¿™äº›pluginï¼Œä¸ç®¡æ˜¯ä¸æ˜¯safeæ¨¡å¼


## å¦‚ä½•åœ¨Jekyll mdæ–‡ä»¶ ä¸­æ’å…¥Liquidæºä»£ç è€Œä¸ä¼šè¢«è§£é‡Š

```liquid
{% raw %}

{%% raw %%}
è¿™é‡Œçš„liquidä»£ç ä¸ä¼šè¢«è§£é‡Š
{%% endraw %%}

{% endraw %}
```


## ä¸ºä»€ä¹ˆæˆ‘çš„æ”¹åŠ¨pushåˆ°githubä¸Šåï¼Œè®¿é—®xxx.github.ioæ²¡æœ‰å˜ï¼Ÿ

Jekyllç”Ÿæˆçš„æ˜¯é™æ€é¡µé¢ï¼Œæ„å‘³ç€æµè§ˆå™¨è®¿é—®ä¸€æ¬¡åï¼Œä¼šæœ‰ç¼“å­˜æˆ–è€…æ˜¯CDNç­‰æŠ€æœ¯æ¥åŠ è½½ï¼Œå³ä½¿éƒ¨ç½²äº†æ–°çš„å†…å®¹ï¼Œå¯èƒ½è®¿é—®çš„ä¹Ÿæ˜¯åŸæ¥çš„ç‰ˆæœ¬
å¯ä»¥ç­‰ä¸€ä¼šï¼Œæˆ–è€…æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜ã€‚
åæ­£ä¸æ˜¯å¤§é—®é¢˜
