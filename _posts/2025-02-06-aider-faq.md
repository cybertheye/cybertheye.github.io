---
title: ğŸŒ³ aider ä¸­çš„åŸºæœ¬æ¦‚å¿µæ‰«ç›²
layout: post
author: cyven
tags: aider ai
categories: CS CS::Tech
---


## what's aider

ç®€å•çš„æ¥è¯´ aider æ˜¯ cursor, æ˜¯ cline

åªä¸è¿‡å®ƒè¿è¡Œåœ¨ç»ˆç«¯,é€šè¿‡è¾“å…¥å‘½ä»¤æ–¹å¼æ¥å®ç° cursor/cline çš„åŠŸèƒ½

Emacsä¸‹æœ‰aiderçš„æ’ä»¶

æˆ‘è¿™é‡Œæ˜¯Emacsä¸‹çš„é…ç½®

```lisp

(require 'aider)

;;; Code:
(setq aider-args '(
   "--no-auto-commits"
   "--model" "deepseek/deepseek-reasoner"      ; Architectæ¨¡å‹ï¼ˆæ–¹æ¡ˆè®¾è®¡ï¼‰
   "--editor-model" "openrouter/anthropic/claude-3.5-sonnet"    ; Editoræ¨¡å‹ï¼ˆä»£ç å®ç°ï¼‰
   "--edit-format" "diff"                  ; ä¸»æ¨¡å‹ä½¿ç”¨æ ‡å‡†diffæ ¼å¼ï¼ˆè¦æ±‚æ¨¡å‹è¿”å›diffæ ¼å¼çš„ä»£ç å˜æ›´ï¼‰ä½¿ç”¨é»˜è®¤çš„å°±è¡Œ optimal
   "--editor-edit-format" "editor-diff"    ; Editoræ¨¡å‹ä½¿ç”¨ä¼˜åŒ–åçš„diffæ ¼å¼ï¼ˆç²¾ç®€æŒ‡ä»¤çš„diffæ ¼å¼ï¼‰
   "--architect"                           ; é»˜è®¤å¯ç”¨architectæ¨¡å¼
))

(setenv "DEEPSEEK_API_KEY" (with-temp-buffer
                               (insert-file-contents "~/.config/aider/deepseek.txt")
                               (string-trim (buffer-string))))


(setenv "OPENROUTER_API_KEY" (with-temp-buffer
                               (insert-file-contents "~/.config/aider/openrouter.txt")
                               (string-trim (buffer-string))))


(global-set-key (kbd "C-,") 'aider-transient-menu)

(provide 'init-aider)

```

æœ‰ä¸¤ç§æ–¹å¼çš„é…ç½®, `aider-args` å’Œ `setenv` å…¶å®å‰è€…å°±æ˜¯ç±»ä¼¼å‘½ä»¤è¡Œ `aider --xxx -xxx --xx` è¿™æ ·å»æ‰§è¡Œå‘½ä»¤,è¿™äº›å‚æ•°åœ¨ä¸€å¼€å§‹å°±ä¼ é€’è¿‡å»

`setenv`è¿™ç§æ–¹å¼,æˆ–è€…åœ¨ç”¨æˆ·ç›®å½•ä¸‹é¢å»ºä¸€ä¸ª `.env` / `.aider.conf.yml` æ–‡ä»¶,aiderå¯åŠ¨çš„æ—¶å€™ä¼šå»åŠ è½½è¿™ä¸ªé…ç½®æ–‡ä»¶.

## aiderä¸­çš„ main-model,weak-modelæ˜¯ä»€ä¹ˆæ„æ€

å½“å¯åŠ¨ aider çš„æ—¶å€™, ä¼šæ˜¾ç¤º

![2025-02-06-19-03-32-screenshoot.png](../assets/img/2025-02-06-19-03-32-screenshoot.png)

è¿™é‡Œçš„ main-model å°±æ˜¯ä¸»è¦ç”¨åˆ°çš„å¤§æ¨¡å‹

ä»€ä¹ˆæ—¶å€™ç”¨åˆ° weak-model å‘¢? å°±æ˜¯åœ¨aider è®¤ä¸ºè¿™äº›ä»»åŠ¡éƒ½æ¯”è¾ƒç®€å•çš„æ—¶å€™,ä¼šå»ä½¿ç”¨ weak-model, è¿™æ ·å¯ä»¥å‡å°‘cost

## aider ä¸­æœ‰å¤šå°‘æ¨¡å¼?

å¦‚æœä½ åœ¨ä½¿ç”¨ä¸­æ„Ÿè§‰æœ‰å¥½å¤š `xxx-mode` ,æŠŠä½ æä¹±äº†, ä»€ä¹ˆ`editor-mode`, `code-mode`, `chat-mode`ç­‰ç­‰å¥½å¤š. ok æˆ‘ä»¬æ¢³ç†ä¸€ä¸‹


ä¸Šé¢æ‰€æœ‰çš„éƒ½å« `chat-mode` , å®ƒå°±åƒä¸€ä¸ªä¸€çº§ç›®å½•ä¸€æ ·

ç„¶åå…¶å®æ€»å…±ä¹Ÿå°±4ä¸ª mode, åˆ†åˆ«æ˜¯ `code`,`architect`,`ask`,`help` è¿™å››ä¸ª

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `/chat-mode architect` å‘½ä»¤æ¥åˆ‡æ¢ä¸åŒçš„æ¨¡å¼

`code` æ¨¡å¼æ˜¯ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€,ä½ é—®ä»€ä¹ˆ,ä»–å°±ä¼šæ ¹æ®å›ç­”å»æ”¹åŠ¨ç›¸åº”æºä»£ç æ–‡ä»¶

`architect`æ¨¡å¼,æ˜¯å…ˆç»™å‡ºä¿®æ”¹æ–¹æ¡ˆ,ç„¶åä¼šè¯¢é—®ä½ éœ€ä¸éœ€è¦ä¿®æ”¹,å½“ä½ åŒæ„ä¿®æ”¹,æ‰ä¼šå»ä¿®æ”¹æ–‡ä»¶

`ask`æ¨¡å¼,å°±æ˜¯ä¸€ä¸ªé—®ç­”,æ°¸è¿œä¸ä¼šåŠ¨æºä»£ç 

`help`æ¨¡å¼,æ˜¯è¯¢é—®ä½¿ç”¨ aider è¿‡ç¨‹ä¸€äº›é—®é¢˜ç”¨çš„,å®ƒé»˜è®¤ä¼šå»è¯»aiderçš„æ–‡æ¡£

## architectå’Œeditor-mode åˆæ˜¯ä»€ä¹ˆå…³ç³»


ä¸Šé¢è¯´äº†å…¶å®æ€»å…±åªæœ‰4ç§ mode ,é‚£ä¹ˆ `editor-mode` åˆæ˜¯ä»€ä¹ˆ?


æ˜¯è¿™æ ·çš„, `architect` åŒ…å« `editor-mode`, æˆ–è€…è¯´,å…¶å®æ˜¯ `architect/editor-mode`


è¿™ä¸ªæ¨¡å¼ä¸‹ä¼šæœ‰ä¸¤ä¸ªé˜¶æ®µ,å°±æ˜¯ç»™å‡ºä»£ç ä¿®æ”¹æ–¹æ¡ˆ,å’Œæ‰§è¡Œä»£ç ä¿®æ”¹

é‚£ä¹ˆå› ä¸ºæœ‰äº›æ¨¡å‹å®ƒçš„æ¨ç†èƒ½åŠ›æ¯”è¾ƒå¼º,å®ƒå¯ä»¥åœ¨å‰é¢é˜¶æ®µå‘æŒ¥ä½œç”¨,è€Œæœ‰äº›æ¨¡å‹,å®ƒå¤„ç†ä»£ç èƒ½åŠ›æ›´å¼º,ä»–å¯ä»¥ç”¨æ¥åé¢çš„ä»£ç æ‰§è¡Œé˜¶æ®µ

æ‰€ä»¥å¯ä»¥ä½¿ç”¨ `--editor-model` å‚æ•°æ¥æŒ‡å®šæ„å»ºé˜¶æ®µä½¿ç”¨çš„å¤§æ¨¡å‹

ä¸‹é¢æ˜¯ aider å®˜æ–¹çš„æµ‹è¯•æ­é…æ•ˆæœ

![2025-02-06-19-19-05-screenshoot.png](../assets/img/2025-02-06-19-19-05-screenshoot.png)
![2025-02-06-19-19-15-screenshoot.png](../assets/img/2025-02-06-19-19-15-screenshoot.png)


## ä»€ä¹ˆæ˜¯ edit-format


è¿™é‡Œå°±ä»‹ç»ä¸¤ç§`whole`å’Œ`diff`

å¦‚æœè®¾ç½®äº† `whole`, é‚£ä¹ˆå¤§æ¨¡å‹ä¼šè¿”å›ä½ éœ€è¦ä¿®æ”¹çš„æ‰€æœ‰æºä»£ç æ–‡ä»¶çš„æ‰€æœ‰ä»£ç ,å³ä½¿ä½ å¯èƒ½åªéœ€è¦æ›´æ”¹ä¸€è¡Œä»£ç 

å¦‚æœè®¾ç½®äº† `diff`,é‚£ä¹ˆå¤§æ¨¡å‹ä¼šè¿”å›åªéœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†çš„ä»£ç 

é‚£ä¹ˆæ˜¾ç„¶å‰è€…æ›´è´¹é’±. ä½†ä¼˜åŠ¿æ˜¯ç®€å•ç²—æš´. åœ¨æ„å»ºæ–°æ–‡ä»¶çš„æ—¶å€™å¯ä»¥ä½¿ç”¨,è¿™æ ·å‰åä»£ç æ›´è¿è´¯



## å‚è€ƒ
[aider.el](https://github.com/tninja/aider.el/tree/main)
[Yaml config file](https://aider.chat/docs/config/aider_conf.html)
[Config with .env](https://aider.chat/docs/config/dotenv.html)
[Separating code reasoning and editing](https://aider.chat/2024/09/26/architect.html)
[Edit formats](https://aider.chat/docs/more/edit-formats.html#editor-diff-and-editor-whole)
