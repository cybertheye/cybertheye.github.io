---
title: ğŸ§€ åˆ©ç”¨consult-imenuæ˜¾ç¤ºä»£ç ç»“æ„
layout: post
author: cyven
tags:
categories: CS CS::Tech
---

å…ˆçœ‹æ•ˆæœ åœ¨æ”¯æŒ tree-sitter çš„ mode ä¸‹,

![2025-02-23-11-59-23-screenshoot.png](../assets/img/2025-02-23-11-59-23-screenshoot.png)

`consult-imenu`æ˜¯å¢å¼ºç‰ˆçš„`imenu`

ä¸»è¦æ˜¯åœ¨å½“å‰ mode ä¸‹çš„ `imenu-create-index-function` çš„è®¾ç½®,è€Œå› ä¸ºæœ‰äº› mode å·²ç»æ˜¯ ts-mode, æ¯”å¦‚ java-mode, æˆ‘å·²ç» remap åˆ° java-ts-mode

æ‰€ä»¥è¿™ä¸ª `imenu-create-index-function`çš„å€¼æ˜¯ `treesit-simple-imenu`,å¦åˆ™é»˜è®¤çš„å€¼æ˜¯ `imenu-default-create-index-function`

ä½†æ˜¯ä¸Šé¢çš„ java æˆªå›¾,å°±æ²¡æœ‰æ˜¾ç¤ºå‡ºç±»å±æ€§,æ˜¯ä¸æ˜¯è¿™ä¸ª `treesit-simple-imenu`æ²¡æœ‰åˆ›å»ºç±»å±æ€§çš„index? å¯¹çš„

é‚£æœ‰æ²¡æœ‰ `treesit-complex-imenu` ä¹‹ç±»çš„?

æ³¨æ„ `treesit-simple-imenu` ä¹‹æ‰€ä»¥å« `simple` å› ä¸ºä»–åªèƒ½è§£æå‡ºç¼–ç¨‹è¯­è¨€é€šç”¨çš„ä¸€äº›ç»“æ„,æ¯”å¦‚æ–¹æ³•,ç±», å„ä¸ªè¯­è¨€çš„è¯­æ³•ä¸ä¸€æ ·,æ‰€ä»¥å¦‚æœè¦æ˜¾ç¤ºæ›´åŠ ä¸°å¯Œçš„ç»“æ„,éœ€è¦è‡ªè¡Œå®šä¹‰


